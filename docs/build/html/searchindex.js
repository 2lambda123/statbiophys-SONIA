Search.setIndex({docnames:["commands","help","index","license","python_usage","readme","sonia","sonia_example","sonia_tutorial"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":3,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":2,"sphinx.domains.rst":2,"sphinx.domains.std":1,nbsphinx:3,sphinx:56},filenames:["commands.md","help.rst","index.rst","license.rst","python_usage.md","readme.md","sonia.rst","sonia_example.rst","sonia_tutorial.ipynb"],objects:{"sonia.evaluate_model":{EvaluateModel:[6,1,1,""]},"sonia.evaluate_model.EvaluateModel":{compute_all_pgens:[6,2,1,""],compute_joint_marginals:[6,2,1,""],evaluate_selection_factors:[6,2,1,""],evaluate_seqs:[6,2,1,""],joint_marginals:[6,2,1,""],joint_marginals_independent:[6,2,1,""]},"sonia.plotting":{Plotter:[6,1,1,""]},"sonia.plotting.Plotter":{norm_marginals:[6,2,1,""],plot_logQ:[6,2,1,""],plot_marginals_length_corrected:[6,2,1,""],plot_model_learning:[6,2,1,""],plot_model_parameters:[6,2,1,""],plot_onepoint_values:[6,2,1,""],plot_prob:[6,2,1,""],plot_ratioQ:[6,2,1,""],plot_vjl:[6,2,1,""]},"sonia.sequence_generation":{SequenceGeneration:[6,1,1,""]},"sonia.sequence_generation.SequenceGeneration":{generate_sequences_post:[6,2,1,""],generate_sequences_pre:[6,2,1,""],rejection_sampling:[6,2,1,""]},"sonia.sonia":{Sonia:[6,1,1,""]},"sonia.sonia.Sonia":{add_generated_seqs:[6,2,1,""],compute_energy:[6,2,1,""],compute_marginals:[6,2,1,""],compute_seq_energy:[6,2,1,""],find_seq_features:[6,2,1,""],infer_selection:[6,2,1,""],load_model:[6,2,1,""],save_model:[6,2,1,""],seq_feature_proj:[6,2,1,""],update_model:[6,2,1,""],update_model_structure:[6,2,1,""]},"sonia.sonia_leftpos_rightpos":{SoniaLeftposRightpos:[6,1,1,""]},"sonia.sonia_leftpos_rightpos.SoniaLeftposRightpos":{add_features:[6,2,1,""],compute_seq_energy_from_parameters:[6,2,1,""],find_seq_features:[6,2,1,""],get_energy_parameters:[6,2,1,""],save_model:[6,2,1,""]},"sonia.sonia_length_pos":{SoniaLengthPos:[6,1,1,""]},"sonia.sonia_length_pos.SoniaLengthPos":{add_features:[6,2,1,""],compute_seq_energy_from_parameters:[6,2,1,""],find_seq_features:[6,2,1,""],get_energy_parameters:[6,2,1,""],save_model:[6,2,1,""]},"sonia.sonia_vjl":{SoniaVJL:[6,1,1,""]},"sonia.sonia_vjl.SoniaVJL":{add_features:[6,2,1,""],compute_seq_energy_from_parameters:[6,2,1,""],find_seq_features:[6,2,1,""],get_energy_parameters:[6,2,1,""],infer_selection:[6,2,1,""],save_model:[6,2,1,""]},sonia:{evaluate_model:[6,0,0,"-"],plotting:[6,0,0,"-"],sequence_generation:[6,0,0,"-"],sonia:[6,0,0,"-"],sonia_leftpos_rightpos:[6,0,0,"-"],sonia_length_pos:[6,0,0,"-"],sonia_vjl:[6,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method"},terms:{"00000e":8,"04381e":8,"05828e":8,"09608e":8,"09996e":8,"13759e":8,"14643e":8,"14864e":8,"17052e":8,"17437e":8,"1e4":8,"28282e":8,"2e5":8,"30059e":8,"30it":8,"34611302e":8,"35102e":8,"37586e":8,"38634e":8,"41295e":8,"42it":8,"44798e":8,"45157e":8,"46it":8,"48417e":8,"4th":4,"52171e":8,"52727325e":8,"58675539e":8,"58it":8,"60481e":8,"60it":8,"61889e":8,"64381e":8,"69it":8,"71243768e":8,"74155e":8,"79127e":8,"90287780e":8,"90524e":8,"92164e":8,"92779e":8,"93751e":8,"93964296e":8,"96191e":8,"97164e":8,"class":[4,6,8],"default":[2,4,5,6,7],"float":6,"function":[0,4,6],"import":[4,8],"int":[6,8],"new":6,"public":[3,6],"return":6,"throw":5,"true":6,"try":2,FOR:[3,6],For:[0,2,6],Its:2,Not:6,THE:5,The:[0,2,4,5],There:0,These:[2,6],Useful:6,__file__:[4,8],__init__:5,_gen:6,aa6:6,aa8:6,aa_color:6,about:2,abov:6,accept:6,access:4,accord:[0,5,6],accourd:6,accur:4,acid:[2,6],add:[6,8],add_constant_featur:6,add_data_seq:6,add_error:6,add_featur:6,add_gen_seq:6,add_generated_seq:[6,8],adding:6,addit:[4,8],address:1,administr:6,after:[0,2,5],against:5,algorithm:4,all:[2,4,6],allow:[2,6],along:[0,3,6],alpha:0,alreadi:6,also:[2,6],alter:5,amino:[2,6],aminoacid:5,analys:8,analysi:4,anchor:[0,5],ani:[0,1,2,3,6],anyth:6,architectur:2,arrai:[4,6,8],associ:6,assum:[0,4,6,8],astyp:8,attribut:6,attributes_to_sav:6,author:6,auto_update_margin:6,auto_update_seq_featur:6,avail:2,avoid:6,awai:5,background:6,bad_color:6,base:[2,6],basic:4,batch:6,batch_siz:6,becaus:[5,6],been:6,befor:0,beta:0,better:8,between:6,bin:6,bin_max:[6,8],bin_min:[6,8],biorxiv:2,black:6,bool:6,both:4,caacsqggseklvf:8,caaipnnnarlmf:8,caaktgtaskltf:8,caivmvaridtqyf:8,calcul:2,caleessaskiif:8,call:[0,4],callan:2,calsdlrsdgqkllf:8,calsrvtgggnkltf:8,camrevdtvsggynklif:8,can:[0,2,3,4,5,6,8],cannot:8,cassalpgqnlnteaff:8,cassellvwdrvgneqff:8,cassflkegalygytf:8,casskqgaseaff:8,cassllstgqgqraff:8,casspppnygytf:8,casspsssltnygytf:8,casstdtteaff:8,casstgnygaff:0,castgldteaff:8,cavfgnaggtsygkltf:8,cavrdpnqggklif:8,cavrvnnnarlmf:8,cdr3:[0,2,6],cell:[0,2,6],cgj:2,chain:0,chain_typ:[4,6,8],chang:[5,6],check:[4,5,6],choic:[0,2],clip:6,cmap:6,code:5,colon:[4,8],color:6,colormap:6,column:[0,4],com:[1,2],combin:[2,5,6],comma:0,command:[2,6],common:2,compar:2,compil:6,comput:[0,6],compute_all_pgen:6,compute_energi:6,compute_joint_margin:6,compute_margin:6,compute_seq_energi:6,compute_seq_energy_from_paramet:6,condit:6,conserv:5,consist:5,consol:2,constant:6,constant_featur:6,contain:[0,4,6],containt:6,convent:0,converg:6,copi:[3,6],copyright:[3,6],core:4,correctli:2,correspond:5,could:[2,5],count:5,creat:[4,6],csv:[0,5,8],ctaactatggctacaccttc:8,ctaactatggctacaccttcggttcggggaccaggttaaccgttgtag:8,current:6,curv:6,custom:[2,6],custom_error:6,custom_genomic_data:6,custom_model_fold:6,custom_olga_model:6,custom_pgen_model:6,cystein:5,data:[2,4,6,8],data_fil:4,data_inf:5,data_margin:6,data_marginals_two:6,data_marginals_two_independ:6,data_seq:[4,5,6,8],data_seq_featur:6,data_seq_fil:6,declar:0,default_model:[4,5,8],defin:[2,4,5,6,7],definit:2,delimit:0,delimiter_out:0,demand:5,demo:2,demonstr:[0,4],depend:[2,6],descript:0,detail:[3,6],determin:6,develop:2,dict:6,dictionari:6,directori:[0,2,6],dirnam:[4,8],displai:6,distanc:6,distribut:[3,6],docstr:4,document:4,doe:[5,6],doi:2,done:6,download:2,drawn:6,dtype:8,dupic:2,dure:6,dv4:8,dv6:8,dv7:8,each:[2,4,6],either:[3,4,6],element:6,elhanati:2,els:6,encod:[6,8],energi:6,entri:2,epoch:[6,8],error:[2,6],etc:6,evalu:[0,2,4,5,6,7],evaluate_model:[4,5,8],evaluate_selection_factor:6,evaluate_seq:[4,6,8],evaluatemodel:[4,6,8],evalut:6,even:[3,6],event:5,exact:0,exampl:[0,2,4],example_evalu:0,example_seq:0,execut:0,exp:6,expand:4,expect:6,extern:2,extract:6,factor:[0,2,6],fail:2,fals:6,faster:6,featur:[0,2,4,5,6],feature_fil:6,feature_lst:6,features_dict:6,few:[4,5],figsiz:6,figur:6,file:[0,4,5,6,8],find:[4,6,8],find_seq_featur:6,fine:5,first:[0,2,6],fit:[3,6],flag:0,flat:6,flexibl:5,folder:[2,4,6],follow:[0,6],forc:6,format:[4,6],found:[0,4,5,6],foundat:[3,6],fraction:6,free:[3,6],from:[0,2,4,5,6,7],full:0,gaug:6,gen:[4,6,8],gen_fil:4,gen_margin:6,gen_marginals_two:6,gen_marginals_two_independ:6,gen_rnd_prod_cdr3:8,gen_seq:[4,5,6,8],gen_seq_featur:6,gen_seq_fil:6,gene:[0,2,4,6,7],gener:[0,2,3,4,5,6,7],generate_sequences_post:[4,6,8],generate_sequences_pr:[4,6,8],generation_prob:6,genj:8,genom:5,genomic_data:[6,8],get:[0,2,4],get_energy_paramet:6,github:[2,4],giulio:[3,6],giulioisac:1,given:[2,6],gmail:1,gnu:[3,6],grai:6,has:[4,6],have:[3,5,6],heatplot:6,heavi:0,help:[0,2,4],here:4,histogram:6,histori:6,hope:[3,6],how:2,howev:[4,5],http:[2,3,6],human:[0,4,8],human_b_heavi:5,human_b_kappa:5,human_b_lambda:5,human_t_alpha:[4,5,8],human_t_beta:5,humanigh:[0,6],humanigk:[0,6],humanigl:[0,6],humantra:[0,6],humantrb:[0,6,8],igor:[0,6],imgt:5,immun:2,impli:[3,6],includ:4,include_gen:6,include_indep_gen:6,include_joint_gen:6,inclus:5,incorpor:4,independ:[5,6],index:[0,6],indic:[0,2,6],individu:[5,6],infer:[0,2,4,5,6,7],infer_select:[4,6,8],infil:0,inform:5,initi:6,initialis:4,input:[0,2,5],input_lay:6,instal:[0,6],instead:6,integr:6,interest:4,intern:[2,4],interpret:4,intial:6,isacchini:[2,3,6],isdir:4,issu:1,iter:6,j_gene_cdr3_anchor:5,j_in:0,j_mask:0,j_mask_index:0,jan:6,join:[4,8],joint:6,joint_margin:6,joint_marginals_independ:6,joint_vjl:6,juli:2,just:0,kappa:0,keep:5,kei:6,kera:6,l12:6,l1_converge_histori:6,l2_reg:6,lambda:0,larger:6,later:[3,6],learn:[4,6],left:6,leftright:0,length:[2,6],lengthpo:[0,6],less:2,level:2,licens:[2,5,6],light:0,like:[0,5],likelihood:2,line:[2,6],linear:6,lines_to_skip:0,list:[2,4,6,7],load:[0,2,4,6,7],load_dir:[4,6,8],load_model:6,load_seq:6,locat:4,log:[0,5,6],log_fil:6,log_q:4,log_scal:6,logq:6,low_freq_mask:6,lower:6,mani:6,manifest:5,map:5,mar:6,marg:6,margin:[0,4,6],mask:0,match:6,matplotlib:2,matrix:6,max_depth:6,max_energy_clip:6,max_l:6,max_number_of_seq:0,max_val:6,max_valu:6,maxdepth:4,maxim:2,maximum:6,mean:5,merchant:[3,6],method:[2,4,6],min_energy_clip:6,min_l:6,min_val:6,minimum:6,mkdir:4,model:[2,4,5,6,7],model_dir:[4,8],model_fil:6,model_fold:0,model_learn:4,model_margin:[5,6],model_marginals_two:6,model_marginals_two_independ:6,model_param:[5,6],model_typ:0,modifi:[3,6],modul:2,monitor:6,montecarlo:6,mora:2,more:[2,3,4,6,8],moreov:5,most:[0,5],mous:0,mouse_t_beta:5,mousetrb:[0,6],multipl:5,murugan:2,must:[0,6],n_bin:6,n_seq:4,name:[0,4,6],nan:6,ndarrai:6,need:[2,4,6],none:6,norm_margin:6,normal:6,normalis:6,note:[0,2,6],nourmohammad:2,nucleotid:[5,6],num_gen_seq:6,num_seq:6,number:6,numpi:8,object:[4,6],observ:2,occur:[5,6],offer:0,often:5,olga:[0,2,6,7],one:6,onepoint:6,onepoint_dict:6,onli:[0,4,6],onto:6,open:4,option:[2,3,6],order:4,org:[2,3,6],other:[0,6],otherwis:6,out:6,outfil:0,output:[0,2,4,6],output_dict:6,output_fold:4,output_lay:6,over:6,own:4,pair:6,panda:8,parallel:6,param:0,paramet:6,particular:[3,6],pass:6,path:[0,4,6,8],peopl:5,per:[2,6],percentag:6,perform:6,pgen:[0,4,6],pgen_data:[6,8],pgen_gen:[6,8],pgen_model:[6,8],pinsdj:8,pip:[2,6],pipelin:4,plot:[2,4,5,7],plot_logq:[4,6,8],plot_marginals_length_correct:6,plot_model_learn:[4,6,8],plot_model_paramet:6,plot_onepoint_valu:6,plot_pgen:6,plot_ppost:6,plot_prob:[6,8],plot_ratioq:6,plot_sonia:8,plot_vjl:[4,6,8],plotter:[4,6,8],pna:2,png:4,point:[2,6],pool:[2,5,6],popul:2,pos:6,posit:[0,2,5,6],possibl:2,post:[0,4,6,8],post_seq:8,ppost:[0,4,6],ppost_data:[6,8],ppost_gen:[6,8],ppost_model:8,pppst_model:6,pre:[0,2,4,6,8],pre_seq:8,prepar:2,preserv:6,pressur:2,prevent:6,previous:6,primarli:6,principl:5,print:[0,4,8],probabl:[2,6],problem:5,process:6,program:[3,6],project:6,propag:6,provid:[2,6],psrocess:2,ptype:[6,8],publish:[3,6],purpos:[2,3,6],put:6,pydoc:4,pypi:2,python:2,q_data:8,q_gen:8,q_i:6,q_model:8,quantifi:2,question:1,quick:2,quit:5,random:6,rate:6,ratio:6,read:[0,5],read_csv:8,readm:5,rearrang:5,recalcul:6,receiv:[3,6],receptor:[2,6],recomb:6,recombin:[0,2,5],recommend:[4,5],redistribut:[3,6],region:5,regular:6,reject:6,rejection_sampl:6,rel:2,relat:6,remov:6,remove_featur:6,remove_features:6,renorm:6,repertoir:[0,2],repositori:4,repres:2,requir:[0,6],reset:6,reset_gen_seq:6,residu:0,respect:0,result:[0,4,6],return_as_dict:6,reweight:6,right:6,same:[2,6],sampl:[2,5,6],satisfi:6,save:[0,4,6],save_dir:6,save_model:[4,6],save_nam:6,scale:6,scatter:6,script:[2,6],search:6,second:6,see:[0,3,6],seed:6,seismic:6,sel:0,sel_model:0,select:[0,2,4,6,8],self:6,semi:[4,8],separ:[2,4,8],seq:[0,4,6,8],seq_featur:6,seq_feature_proj:6,seq_features_al:6,seq_gen_model:8,seq_in:0,seq_index:0,seq_model_featur:6,seqs_featur:6,seqs_post:4,seqs_pr:4,sequenc:[0,2,4,6,7],sequence_gener:[4,5,8],sequencegener:[4,6,8],sequenti:6,set:[4,5,6],set_custom_model_vdj:0,set_custom_model_vj:0,sethna:[1,2,3],setup:[2,5],shape:6,shine:5,ship:0,should:[0,1,3,4,5,6],show:0,shuffl:6,similarli:6,simual:6,singl:6,size:6,skip:0,softwar:[2,3,6],some:[2,4,7],sometim:2,sonia:[0,5],sonia_leftpos_rightpo:[4,5,8],sonia_length_po:[4,5],sonia_model:[0,4,6,8],sonia_model_exampl:4,sonia_vjl:4,sonialeftposrightpo:[4,6,8],sonialengthpo:[4,6],soniavjl:[4,6],space:0,specif:[0,2,4,6,7],specifi:[2,6],split:4,statbiophi:2,stdout:0,still:[0,5,6],str:[6,8],string:6,strip:4,strongli:5,structur:6,studi:2,stuff:6,subfeatur:6,sum:6,suppli:2,sure:5,suspect:2,syntax:0,synthet:6,tab:0,take:[2,6],taken:6,tcr:[0,2],tensorflow:2,term:[3,6],text:[4,8],tgcgctgtgagagatccgaaccagggaggaaagcttatcttc:8,tgcgctgtgagagtgaataacaatgccagactcatgttt:8,tgtgcaatgagagaggtagatacggtttctggtggctacaataagctgattttt:8,tgtgcagcaaaaaccggcactgccagtaaactcaccttt:8,tgtgcagcaatcccgaataacaatgccagactcatgttt:8,tgtgcagcatgctctcagggcggatctgaaaagctggtcttt:8,tgtgccagcacagggcttgacactgaagctttcttt:8,tgtgccagcagccccagttcgagcctcactaactatggctacaccttc:8,tgtgccagcagcgcccttcccgggcaaaatttgaacactgaagctttcttt:8,tgtgccagcagcttattgagtacgggacaggggcaaagagctttcttt:8,tgtgccagcagctttctcaaagagggggccctctatggctacaccttc:8,tgtgccagcagtgaactactcgtctgggacagggttggcaatgagcagttcttc:8,tgtgccattgtgatggtagcgaggatagatacgcagtatttt:8,tgtgctctagaagagagcagtgcttccaagataatcttt:8,tgtgctctgagtgatctacggtcagatggccagaagctgctcttt:8,tgtgctctgtccagggtcacgggaggaggaaacaaactcaccttt:8,tgtgctgtgtttggtaatgctggtggtactagctatggaaagctgacattt:8,than:6,thei:5,them:[0,6,8],thi:[0,2,3,4,5,6,8],three:0,threshold:6,through:[2,4,6],thu:[2,5],thymic:2,time:6,titl:6,toctre:4,too:8,top:5,tra:[4,8],train:[2,8],traj10:8,traj16:8,traj23:8,traj31:8,traj3:8,traj44:8,traj4:8,traj52:8,traj57:8,trav13:8,trav14:8,trav19:8,trav1:8,trav23:8,trav36:8,trav6:8,trav9:8,trb:0,trbj1:[0,8],trbj2:8,trbv11:8,trbv2:8,trbv4:8,trbv5:8,trbv6:8,trbv7:8,trbv9:[0,8],triangular:6,tsv:[0,5,8],tupl:6,turn:2,tutori:4,txt:[0,4,5,6],type:[0,6],u26:8,u96:8,under:[3,6],uniqu:5,unless:6,updat:6,update_model:6,update_model_structur:6,upper:6,upper_bound:6,usag:[4,6],use:[0,6],use_flat_distribut:6,used:[0,2,4,6,8],useful:[3,6],user:5,uses:6,using:[2,4,6],util:[2,4,5,7],v_gene_cdr3_anchor:5,v_in:0,v_mask:0,v_mask_index:0,valid:6,validation_split:6,valu:[6,8],variabl:2,vdj:[0,6],verbos:6,veri:5,version:[3,6],wai:2,walczak:2,want:0,warranti:[3,6],wed:6,weight:6,well:[0,6],when:5,where:[4,6],which:[2,6],white:6,whitespac:0,within:[4,6],without:[2,3,6],work_fold:4,would:[2,6],wrapper:4,write:[0,4],www:[3,6],you:[0,2,3,4,5,6,8],your:[3,4,6],zachari:[1,3],zacharysethna:6},titles:["Command line console scripts","Need Help?","Documentation for Sonia package","License","Sonia modules in a Python script","Directory architecture","Sonia package documentation","Sonia Example","Sonia Example"],titleterms:{"default":[0,8],about:5,all:0,architectur:5,cdr3:5,command:0,common:0,consol:0,custom:0,data:5,defin:8,definit:5,demo:0,directori:5,document:[2,6],evalu:8,evaluate_model:6,exampl:[7,8],folder:0,from:8,gene:8,gener:8,help:1,infer:8,instal:2,licens:3,line:0,list:8,load:8,model:[0,8],modul:[4,6],need:1,note:5,olga:8,option:0,packag:[2,6],plot:[6,8],prepar:5,python:4,quick:0,refer:2,script:[0,4],sequenc:[5,8],sequence_gener:6,some:8,sonia:[2,4,6,7,8],sonia_leftpos_rightpo:6,sonia_length_po:6,sonia_vjl:6,specif:8,specifi:0,structur:2,train:5,util:8}})